
/*! QRCode.js v1.0 - https://github.com/davidshimjs/qrcodejs */
var QRCode;(function(){function l(a){this.mode=c.MODE_8BIT_BYTE;this.data=a}
function p(a,c){this.typeNumber=a;this.errorCorrectLevel=c;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}
p.prototype={addData:function(a){this.dataList.push(new l(a))},isDark:function(a,c){if(0>a||this.moduleCount<=a||0>c||this.moduleCount<=c)throw Error(a+","+c);return this.modules[a][c]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber)this.typeNumber=1;this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[a][b]=null}f.setupPositionProbePattern(this,0,0);f.setupPositionProbePattern(this,this.moduleCount-7,0);f.setupPositionProbePattern(this,0,this.moduleCount-7);f.setupTimingPattern(this);f.setupTypeInfo(this,this.errorCorrectLevel);1<this.typeNumber&&f.setupTypeNumber(this,this.typeNumber);f.mapData(this,this.dataCache)},makeImpl:function(){this.make()}};
function q(a,c){this.totalCount=a;this.dataCount=c}
var r={L:1,M:0,Q:3,H:2},c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8,ERROR_CORRECT_L:r.L,ERROR_CORRECT_M:r.M,ERROR_CORRECT_Q:r.Q,ERROR_CORRECT_H:r.H};
var f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42]],getBCHTypeInfo:function(a){for(var c=a<<10;0<=f.getBCHDigit(c)-f.getBCHDigit(1335);)c^=1335<<f.getBCHDigit(c)-f.getBCHDigit(1335);return a<<10|c},getBCHTypeNumber:function(a){for(var c=a<<12;0<=f.getBCHDigit(c)-f.getBCHDigit(7973);)c^=7973<<f.getBCHDigit(c)-f.getBCHDigit(7973);return a<<12|c},getBCHDigit:function(a){for(var c=0;0!=a;)c++,a>>>=1;return c},getPatternPosition:function(a){return f.PATTERN_POSITION_TABLE[a-1]||[]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==(b*c)%2+ (b*c)%3;case 6:return 0==((b*c)%2+(b*c)%3)%2;default:return 0==((b*c)%3+(b+c)%2)%2}},setupPositionProbePattern:function(a,b,c){for(var d=-1;7>=d;d++)if(!(0>b+d||a.moduleCount<=b+d))for(var e=-1;7>=e;e++)0>c+e||a.moduleCount<=c+e||(a.modules[b+d][c+e]=0<=d&&6>=d&&0<=e&&6>=e&&(0==d||6==d||0==e||6==e||2<=d&&4>=d&&2<=e&&4>=e))},setupTimingPattern:function(a){for(var b=8;b<a.moduleCount-8;b++){null===a.modules[b][6]&&(a.modules[b][6]=0==b%2);null===a.modules[6][b]&&(a.modules[6][b]=0==b%2)}},setupTypeNumber:function(a,b){for(var c=f.getBCHTypeNumber(b),d=0;18>d;d++){a.modules[Math.floor(d/3)][d%3+a.moduleCount-8-3]=(1==c>>d&1)}for(d=0;18>d;d++)a.modules[d%3][Math.floor(d/3)+a.moduleCount-8-3]=(1==c>>d&1)},setupTypeInfo:function(a,b){for(var d=r.M,e=f.getBCHTypeInfo(d<<3|b),g=0;15>g;g++){a.modules[g<6?g:g<8?g+1:g<9?g+1:g+2][8]=1==e>>g&1}for(g=0;15>g;g++){a.modules[8][g<8?g:g<9?g+1:g<15?g+1:g+1]=1==e>>g&1}},mapData:function(a,b){for(var c=-1,d=a.moduleCount-1,e=7,g=0,h=a.moduleCount-1;0<h;h-=2){6==h&&h--;for(;;){for(var k=0;2>k;k++)null===a.modules[d][h-k]&&(a.modules[d][h-k]=1==(b[g>>>3]>>>7-g%8&1));g++;if(0>=(d+=c))break;if(d>=a.moduleCount){d=a.moduleCount-1;break}}c=-c}},createData:function(a,b,c){for(var d=[],e=0;e<c.length;e++){var g=c[e];d.push(4);for(var h=g.data.length,k=0;k<h;k++)d.push(g.data.charCodeAt(k))}for(;d.length%8!=0;)d.push(0);for(c=[],e=0;e<d.length;e+=8){g=0;for(k=0;8>k;k++)g=g<<1|d[e+k];c.push(g)}a=Array(a*a);for(e=0;e<a.length;e++)a[e]=0;return c}};
function t(a,b){this._el=a;this._htOption={width:b.width||256,height:b.height||256,text:b.text||"",correctLevel:b.correctLevel||r.M};this._oQRCode=null;this._oDrawing=null;this.makeCode(this._htOption.text)}
t.prototype.makeCode=function(a){this._oQRCode=new p(4,this._htOption.correctLevel);this._oQRCode.addData(a);this._oQRCode.make();this._oDrawing=new u(this._el,this._htOption);this._oDrawing.draw(this._oQRCode)};
function u(a,b){this._el=a;this._htOption=b;this._el.innerHTML="";this._el.style.position="relative"}
u.prototype.draw=function(a){var b=document.createElement("canvas");b.width=this._htOption.width;b.height=this._htOption.height;this._el.appendChild(b);for(var c=b.getContext("2d"),d=this._htOption.width/a.getModuleCount(),e=this._htOption.height/a.getModuleCount(),g=0;g<a.getModuleCount();g++)for(var h=0;h<a.getModuleCount();h++)a.isDark(g,h)&&(c.fillRect(Math.round(h*e),Math.round(g*d),Math.ceil(e),Math.ceil(d)))}
window.QRCode=t;window.QRCode.CorrectLevel=r;
})();